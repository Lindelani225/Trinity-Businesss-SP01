@model IEnumerable<BusinesssTrinitySP01.Models.JobApplications> 
@{
    ViewBag.Title = "My Applications";
}

<div class="jumbotron">
    <div class="container" style="margin-top:4vh;">
        <h3 class="text-center"><b>My Job Applications</b></h3>
        <br />
        <p>
            @Html.ActionLink("Apply", "Create")
        </p>
        <table class="table table-hover table-bordered">
            @*<tr class="table-active table-bordered">
                    <th colspan="4" class="text-center"><h5><b style="font-size:18px;">Requests for quotation</b></h5></th>
                </tr>*@
            <tr class="table">
                <th>
                    @Html.DisplayNameFor(model => model.Applicant.RSAID)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Job.JobType)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AppliedDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Status)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Resume)
                </th>
                <th class="text-center">Action</th>
            </tr>
            @foreach (var item in Model)
            {

                <tr>

                    <td>
                        <div class="form-group">
                            <div class="col-md-10">
                                @Html.DisplayFor(modelItem => item.Applicant.RSAID)
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="col-md-10">
                                @Html.DisplayFor(model => item.Job.JobType)
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="col-md-10">
                                @Html.DisplayFor(modelItem => item.AppliedDate)
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="col-md-10">
                                @Html.DisplayFor(model => item.Status)
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="col-md-10">
                                @if (item.Resume != null)
                                {
                                    var base64 = Convert.ToBase64String(item.Resume);
                                    var pdfsrc = "data:application/pdf;base64," + base64;
                                    <embed src="@pdfsrc" height="200" width="250" />
                                }
                            </div>
                        </div>
                    </td>

                    <td class="text-center">
                        <a class="btn btn-primary" href="@Url.Action("Delete", "JobApplications", new { id = item.JobAppID })">Cancel</a>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>

